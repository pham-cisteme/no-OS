
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ADIS no-OS driver &#8212; no-OS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing to no-OS" href="../contributing.html" />
    <link rel="prev" title="ADM1177 no-OS Driver" href="adm1177.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="adis-no-os-driver">
<h1><a class="toc-backref" href="#id5">ADIS no-OS driver</a><a class="headerlink" href="#adis-no-os-driver" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#adis-no-os-driver" id="id5">ADIS no-OS driver</a></p>
<ul>
<li><p><a class="reference internal" href="#supported-devices" id="id6">Supported Devices</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p></li>
<li><p><a class="reference internal" href="#applications" id="id8">Applications</a></p></li>
<li><p><a class="reference internal" href="#adis-driver-source-code" id="id9">ADIS Driver Source Code</a></p></li>
<li><p><a class="reference internal" href="#adis-driver-usage-outside-of-no-os" id="id10">ADIS Driver Usage Outside of No-OS</a></p></li>
<li><p><a class="reference internal" href="#adis-driver-usage-with-no-os" id="id11">ADIS Driver Usage with No-OS</a></p></li>
<li><p><a class="reference internal" href="#adis-device-initialization" id="id12">ADIS Device Initialization</a></p></li>
<li><p><a class="reference internal" href="#adis-device-measurements-register-readings" id="id13">ADIS Device Measurements - Register Readings</a></p></li>
<li><p><a class="reference internal" href="#adis-diagnosis-data" id="id14">ADIS Diagnosis Data</a></p></li>
<li><p><a class="reference internal" href="#adis-identification-data" id="id15">ADIS Identification Data</a></p></li>
<li><p><a class="reference internal" href="#adis-configuration-data" id="id16">ADIS Configuration Data</a></p></li>
<li><p><a class="reference internal" href="#adis-read-only-registers" id="id17">ADIS read-only registers</a></p></li>
<li><p><a class="reference internal" href="#adis-scratch-pad-registers" id="id18">ADIS scratch pad registers</a></p></li>
<li><p><a class="reference internal" href="#adis-driver-initialization-example" id="id19">ADIS Driver Initialization Example</a></p></li>
<li><p><a class="reference internal" href="#adis-iio-driver-source-code" id="id20">ADIS IIO Driver Source Code</a></p></li>
<li><p><a class="reference internal" href="#iio-adis-device-configuration" id="id21">IIO ADIS Device Configuration</a></p></li>
<li><p><a class="reference internal" href="#iio-adis-driver-initialization-example" id="id22">IIO ADIS Driver Initialization Example</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="supported-devices">
<h2><a class="toc-backref" href="#id6">Supported Devices</a><a class="headerlink" href="#supported-devices" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.analog.com/ADIS16500">ADIS16500</a></p></li>
<li><p><a class="reference external" href="https://www.analog.com/ADIS16505">ADIS16505</a></p></li>
<li><p><a class="reference external" href="https://www.analog.com/ADIS16507">ADIS16507</a></p></li>
<li><p><a class="reference external" href="https://www.analog.com/ADIS16575">ADIS16575</a></p></li>
<li><p><a class="reference external" href="https://www.analog.com/ADIS16576">ADIS16576</a></p></li>
<li><p><a class="reference external" href="https://www.analog.com/ADIS16577">ADIS16577</a></p></li>
</ul>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The ADIS1650X device series is a precision, miniature microelectromechanical
system (MEMS) inertial measurement unit (IMU) that includes a triaxial
gyroscope and a triaxial accelerometer. Each inertial sensor in the ADIS1650X
device series combines with signal conditioning that optimizes dynamic
performance.</p>
<p>The factory calibration characterizes each sensor for sensitivity, bias,
alignment, linear acceleration (gyroscope bias), and point of percussion
(accelerometer location). As a result, each sensor has dynamic compensation
formulas that provide accurate sensor measurements over a broad set of
conditions.</p>
</section>
<section id="applications">
<h2><a class="toc-backref" href="#id8">Applications</a><a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Navigation, stabilization, and instrumentation</p></li>
<li><p>Unmanned and autonomous vehicles</p></li>
<li><p>Smart agriculture and construction machinery</p></li>
<li><p>Factory/industrial automation, robotics</p></li>
<li><p>Virtual/augmented reality</p></li>
<li><p>Internet of Moving Things</p></li>
</ul>
</section>
<section id="adis-driver-source-code">
<h2><a class="toc-backref" href="#id9">ADIS Driver Source Code</a><a class="headerlink" href="#adis-driver-source-code" title="Permalink to this headline">¶</a></h2>
<p>The source code for ADIS generic driver can be found here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis.h">Header file of ADIS Generic Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis.c">Implementation of ADIS Generic Driver</a></p></li>
</ul>
<p>The generic ADIS driver has to be used together with the chip-specific ADIS driver.
The source code for the supported chips is listed below:</p>
<p>ADIS1650X Driver Source Code:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis1650x.h">Header file of ADIS1650X Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis1650x.c">Implementation of ADIS1650X Driver</a></p></li>
</ul>
<p>ADIS1657X Driver Source Code:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis1657x.h">Header file of ADIS1657X Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/adis1657x.c">Implementation of ADIS1657X Driver</a></p></li>
</ul>
</section>
<section id="adis-driver-usage-outside-of-no-os">
<h2><a class="toc-backref" href="#id10">ADIS Driver Usage Outside of No-OS</a><a class="headerlink" href="#adis-driver-usage-outside-of-no-os" title="Permalink to this headline">¶</a></h2>
<p>In order to be able to use this driver you will have to provide the specific
implementation for the communication APIs and the specific types they use.
For SPI communication, there are four functions which are called by the ADIS
driver and have to be implemented:</p>
<ul class="simple">
<li><p><strong>no_os_spi_init()</strong> - initializes the communication peripheral.</p></li>
<li><p><strong>no_os_spi_write_and_read()</strong> - writes and reads data to/from the device.</p></li>
<li><p><strong>no_os_spi_transfer()</strong> - iterates over transfer lists and sends all SPI messages</p></li>
<li><p><strong>no_os_spi_remove()</strong> - de-initializes the communication peripheral.</p></li>
</ul>
<p>And there are three data types that have to be defined:</p>
<ul class="simple">
<li><p><strong>no_os_spi_desc</strong> - structure holding the SPI descriptor</p></li>
<li><p><strong>no_os_spi_init_param</strong> - structure holding the parameters for SPI initialization</p></li>
<li><p><strong>no_os_spi_msg</strong> - structure holding the description for a SPI transfer</p></li>
</ul>
<p>An example of a header file containing the prototypes of the functions which have
to be implemented, along with some generic data types they are using can be found
below:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/include/no_os_spi.h">Generic header file for SPI Communication APIs</a></p></li>
</ul>
<p>You will also have to provide specific APIs for GPIO handling. There are five
functions which are called by the ADIS driver and have to be implemented:</p>
<ul class="simple">
<li><p><strong>no_os_gpio_get_optional</strong> - returns the descriptor to a specific GPIO</p></li>
<li><p><strong>no_os_gpio_direction_output</strong> - enables the output direction of the specified GPIO descriptor</p></li>
<li><p><strong>no_os_gpio_set_value</strong> - sets the value of the specified GPIO to high or low</p></li>
<li><p><strong>no_os_gpio_remove</strong> - frees the resources allocated by no_os_gpio_get_optional</p></li>
</ul>
<p>And there are two data types that have to be defined:</p>
<ul class="simple">
<li><p><strong>no_os_gpio_desc</strong> - structure holding the GPIO descriptor</p></li>
<li><p><strong>no_os_gpio_init_param</strong> - structure holding the parameters for GPIO initialization</p></li>
</ul>
<p>An example of a header file containing the prototypes of the functions which have
to be implemented, along with some generic data types they are using can be found below:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/include/no_os_gpio.h">Generic header file for GPIO APIs</a></p></li>
</ul>
<p>The driver also uses the ADI util library, so make sure you also add the necessary
files in your project. The source code for the util library can be found here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/include/no_os_util.h">Header file of ADI util library</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/util/no_os_util.c">Implementation file of ADI util library</a></p></li>
</ul>
</section>
<section id="adis-driver-usage-with-no-os">
<h2><a class="toc-backref" href="#id11">ADIS Driver Usage with No-OS</a><a class="headerlink" href="#adis-driver-usage-with-no-os" title="Permalink to this headline">¶</a></h2>
<p>If you wish to use No-OS for evaluating ADIS devices, you may use the already
existing example projects:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/tree/master/projects/eval-adis1650x">ADIS1650X Example Projects</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/tree/master/projects/eval-adis1657x">ADIS1657X Example Projects</a></p></li>
</ul>
</section>
<section id="adis-device-initialization">
<h2><a class="toc-backref" href="#id12">ADIS Device Initialization</a><a class="headerlink" href="#adis-device-initialization" title="Permalink to this headline">¶</a></h2>
<p>In order to be able to use the device, you will have to provide the support for
the communication protocol and GPIO configuration as mentioned above. The first
API to be called is <strong>adis_init</strong> by providing the adis descriptor and the
adis1650x_chip_info. Make sure that it returns 0, which means that the driver
was initialized correctly.</p>
</section>
<section id="adis-device-measurements-register-readings">
<h2><a class="toc-backref" href="#id13">ADIS Device Measurements - Register Readings</a><a class="headerlink" href="#adis-device-measurements-register-readings" title="Permalink to this headline">¶</a></h2>
<section id="acceleration-data">
<h3>Acceleration Data<a class="headerlink" href="#acceleration-data" title="Permalink to this headline">¶</a></h3>
<p>If you want to obtain a data set for each axis, you may use <strong>adis_read_x_accl</strong>,
<strong>adis_read_y_accl</strong> and <strong>adis_read_z_accl</strong> APIs to obtain the raw data.
The raw data does not have the scaling applied. Use <strong>adis_get_accl_scale</strong> to
obtain the acceleration scale.
The converted value meters / square second is obtained by the following formula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>result <span class="o">[</span>m / s^2<span class="o">]</span> <span class="o">=</span> raw data * scale.dividend / scale.divisor
</pre></div>
</div>
</section>
<section id="gyroscope-data">
<h3>Gyroscope Data<a class="headerlink" href="#gyroscope-data" title="Permalink to this headline">¶</a></h3>
<p>If you want to obtain a data set for each axis, you may use <strong>adis_read_x_gyro</strong>,
<strong>adis_read_y_gyro</strong> and <strong>adis_read_z_gyro</strong> APIs to obtain the raw data.
The raw data does not have the scaling applied. Use <strong>adis_get_anglvel_scale</strong>
to obtain the gyroscope scale.
The converted value in radians / second is obtained by the following formula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>result <span class="o">[</span>rad / s<span class="o">]</span> <span class="o">=</span> raw data * scale.dividend / scale.divisor
</pre></div>
</div>
</section>
<section id="delta-velocity-data">
<h3>Delta Velocity Data<a class="headerlink" href="#delta-velocity-data" title="Permalink to this headline">¶</a></h3>
<p>If you want to obtain a data set for each axis, you may use <strong>adis_read_x_deltvel</strong>,
<strong>adis_read_y_deltvel</strong> and <strong>adis_read_z_deltvel</strong> APIs to obtain the raw data.
The raw data does not have the scaling applied. Use <strong>adis_get_deltavelocity_scale</strong>
to obtain the delta velocity scale.
The converted value in meters / second is obtained by the following formula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>result <span class="o">[</span>m / s<span class="o">]</span> <span class="o">=</span> raw data * scale.dividend / scale.divisor
</pre></div>
</div>
</section>
<section id="delta-angle-data">
<h3>Delta Angle Data<a class="headerlink" href="#delta-angle-data" title="Permalink to this headline">¶</a></h3>
<p>If you want to obtain a data set for each axis, you may use <strong>adis_read_x_deltang</strong>,
<strong>adis_read_y_deltang</strong> and <strong>adis_read_z_deltang</strong> APIs to obtain the raw data.
The raw data does not have the scaling applied. Use <strong>adis_get_deltaangl_scale</strong>
to obtain the delta angle scale.
The converted value in radians is obtained by the following formula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>result <span class="o">[</span>rad<span class="o">]</span> <span class="o">=</span> raw data * scale.dividend / scale.divisor
</pre></div>
</div>
</section>
<section id="temperature-data">
<h3>Temperature Data<a class="headerlink" href="#temperature-data" title="Permalink to this headline">¶</a></h3>
<p>If you want to obtain the temperature data of the device, you may use
<strong>adis_read_temp_out</strong> API to obtain the raw data. The raw data does not have the
scaling applied. Use <strong>adis_get_temp_scale</strong>
to obtain the temperature scale.
The converted value in millidegrees Celsius is obtained by the following formula:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>result <span class="o">[</span>milli °C<span class="o">]</span> <span class="o">=</span> raw data * scale.dividend / scale.divisor
</pre></div>
</div>
</section>
</section>
<section id="adis-diagnosis-data">
<h2><a class="toc-backref" href="#id14">ADIS Diagnosis Data</a><a class="headerlink" href="#adis-diagnosis-data" title="Permalink to this headline">¶</a></h2>
<p>If you want to obtain the diagnosis data of the device, you may use
<strong>adis_read_diag_stat</strong> API to obtain the diagnosis flags structure. You may also
use individual APIs for each diagnosis flag to obtain the individual value. The
APIs for retrieving diagnosis flags are specific to the device, as shown below.</p>
<section id="common">
<h3>Common<a class="headerlink" href="#common" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>adis_read_diag_data_path_overrun</strong> - to obtain the data path overrun flag value</p></li>
<li><p><strong>adis_read_diag_fls_mem_update_failure</strong> - to obtain the flash memory update error flag value</p></li>
<li><p><strong>adis_read_diag_spi_comm_err</strong> - to obtain the SPI communication error flag value</p></li>
<li><p><strong>adis_read_diag_standby_mode</strong> - to obtain the standby mode flag value</p></li>
<li><p><strong>adis_read_diag_snsr_failure</strong> - to obtain the sensor self test error flag value</p></li>
<li><p><strong>adis_read_diag_mem_failure</strong> - to obtain the flash memory test error flag value</p></li>
<li><p><strong>adis_read_diag_clk_err</strong> - to obtain the clock error flag value</p></li>
<li><p><strong>adis_read_diag_checksum_err</strong> - to obtain the checksum error flag value from a previous burst read</p></li>
<li><p><strong>adis_read_diag_fls_mem_wr_cnt_exceed</strong> - to obtain the flash memory write counts exceeded flag value (set to true if the flash memory write counter exceeds the endurance value</p></li>
<li><p><strong>adis_read_diag_stat</strong> - to obtain all error flags</p></li>
</ul>
</section>
<section id="adis1650x">
<h3>ADIS1650X<a class="headerlink" href="#adis1650x" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>adis_read_diag_gyro1_failure</strong> - to obtain the gyroscope1 self test error flag value</p></li>
<li><p><strong>adis_read_diag_gyro2_failure</strong> - to obtain the gyroscope2 self test error flag value</p></li>
<li><p><strong>adis_read_diag_accl_failure</strong> - to obtain the accelerometer self test error flag value</p></li>
</ul>
</section>
<section id="adis1657x">
<h3>ADIS1657X<a class="headerlink" href="#adis1657x" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>adis_read_diag_snsr_init_failure</strong> - to obtain the sensor initialization failure flag value</p></li>
<li><p><strong>adis_read_diag_x_axis_gyro_failure</strong> - to obtain the X-Axis Gyroscope failure flag value</p></li>
<li><p><strong>adis_read_diag_y_axis_gyro_failure</strong> - to obtain the Y-Axis Gyroscope failure flag value</p></li>
<li><p><strong>adis_read_diag_z_axis_gyro_failure</strong> - to obtain the Z-Axis Gyroscope failure flag value</p></li>
<li><p><strong>adis_read_diag_x_axis_accl_failure</strong> - to obtain the X-Axis Accelerometer failure flag value</p></li>
<li><p><strong>adis_read_diag_y_axis_accl_failure</strong> - to obtain the Y-Axis Accelerometer failure flag value</p></li>
<li><p><strong>adis_read_diag_z_axis_accl_failure</strong> - to obtain the Z-Axis Accelerometer failure flag value</p></li>
<li><p><strong>adis_read_diag_aduc_mcu_fault</strong> - to obtain the ADuC microcontroller fault flag value</p></li>
</ul>
</section>
</section>
<section id="adis-identification-data">
<h2><a class="toc-backref" href="#id15">ADIS Identification Data</a><a class="headerlink" href="#adis-identification-data" title="Permalink to this headline">¶</a></h2>
<p>If you want to obtain identification data specific to the device, you may use the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_read_prod_id</strong> - to obtain the product id</p></li>
<li><p><strong>adis_read_serial_num</strong> - to obtain the product serial number</p></li>
<li><p><strong>adis_read_firm_rev</strong> - to obtain the firmware revision</p></li>
<li><p><strong>adis_read_firm_d</strong>, <strong>adis_read_firm_m</strong> and <strong>adis_read_firm_y</strong> - to obtain the firmware date</p></li>
<li><p><strong>adis_read_gyro_meas_range</strong> to obtain gyroscope measurement range encoded value</p></li>
</ul>
</section>
<section id="adis-configuration-data">
<h2><a class="toc-backref" href="#id16">ADIS Configuration Data</a><a class="headerlink" href="#adis-configuration-data" title="Permalink to this headline">¶</a></h2>
<section id="accelerometer-calibration-offset">
<h3>Accelerometer calibration offset<a class="headerlink" href="#accelerometer-calibration-offset" title="Permalink to this headline">¶</a></h3>
<p>If you want to configure the accelerometer calibration offset on any axis, you may use the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_write_xa_bias</strong></p></li>
<li><p><strong>adis_write_ya_bias</strong></p></li>
<li><p><strong>adis_write_za_bias</strong></p></li>
</ul>
<p>If you want to read the current accelerometer calibration on any axis, you may use the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_read_xa_bias</strong></p></li>
<li><p><strong>adis_read_ya_bias</strong></p></li>
<li><p><strong>adis_read_za_bias</strong></p></li>
</ul>
</section>
<section id="gyroscope-calibration-offset">
<h3>Gyroscope calibration offset<a class="headerlink" href="#gyroscope-calibration-offset" title="Permalink to this headline">¶</a></h3>
<p>If you want to configure the gyroscope calibration offset on any axis, you may use the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_write_xg_bias</strong></p></li>
<li><p><strong>adis_write_yg_bias</strong></p></li>
<li><p><strong>adis_write_zg_bias</strong></p></li>
</ul>
<p>If you want to read the current gyroscope calibration on any axis, you may use the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_read_xg_bias</strong></p></li>
<li><p><strong>adis_read_yg_bias</strong></p></li>
<li><p><strong>adis_read_zg_bias</strong></p></li>
</ul>
</section>
<section id="filters-configuration">
<h3>Filters configuration<a class="headerlink" href="#filters-configuration" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>adis_write_filt_size_var_b</strong>, <strong>adis_read_filt_size_var_b</strong> - Bartlett window FIR filter write/read APIs</p></li>
<li><p><strong>adis_write_dec_rate</strong>, <strong>adis_read_dec_rate</strong> - decimation filter write/read APIs</p></li>
<li><p><strong>adis_write_up_scale</strong>, <strong>adis_read_up_scale</strong> - scale factor for input clock for scaled sync mode write/read APIs</p></li>
</ul>
</section>
<section id="continuous-bias-estimation-configuration">
<h3>Continuous Bias Estimation Configuration<a class="headerlink" href="#continuous-bias-estimation-configuration" title="Permalink to this headline">¶</a></h3>
<p>Some devices offer continuous bias estimation configuration capabilities.
See the information below to view the configuration APIs for the devices which
offer continuous bias estimation capabilities.</p>
<p><strong>ADIS1650X</strong></p>
<blockquote>
<div><p>This device does not offer continuous bias estimation capabilities.</p>
</div></blockquote>
<p><strong>ADIS1657X</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_write_bias_corr_tbc</strong>, <strong>adis_read_bias_corr_tbc</strong> - to write/read the time base control value</p></li>
<li><p><strong>adis_write_bias_corr_en_xg</strong>, <strong>adis_read_bias_corr_en_xg</strong> - to write/read the X-axis gyroscope bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
<li><p><strong>adis_write_bias_corr_en_yg</strong>, <strong>adis_read_bias_corr_en_yg</strong> - to write/read the Y-axis gyroscope bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
<li><p><strong>adis_write_bias_corr_en_zg</strong>, <strong>adis_read_bias_corr_en_zg</strong> - to write/read the Z-axis gyroscope bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
<li><p><strong>adis_write_bias_corr_en_xa</strong>, <strong>adis_read_bias_corr_en_xa</strong> - to write/read the X-axis accelerometer bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
<li><p><strong>adis_write_bias_corr_en_ya</strong>, <strong>adis_read_bias_corr_en_ya</strong> - to write/read the Y-axis accelerometer bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
<li><p><strong>adis_write_bias_corr_en_za</strong>, <strong>adis_read_bias_corr_en_za</strong> - to write/read the Z-axis accelerometer bias correction enable bit (0 - disabled, 1 - enabled)</p></li>
</ul>
</div></blockquote>
</section>
<section id="fifo-configuration">
<h3>FIFO Configuration<a class="headerlink" href="#fifo-configuration" title="Permalink to this headline">¶</a></h3>
<p>Some devices offer a hardware FIFO and offer configuration capabilities for
the FIFO. See the information below to view the FIFO configuration APIs for the
devices which have a hardware FIFO.</p>
<p><strong>ADIS1650X</strong></p>
<blockquote>
<div><p>This device does not offer a hardware FIFO.</p>
</div></blockquote>
<p><strong>ADIS1657X</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_write_fifo_en</strong>, <strong>adis_read_fifo_en</strong> - to write/read the FIFO enable bit (0 - direct output mode, 1 - FIFO output mode)</p></li>
<li><p><strong>adis_write_fifo_overflow</strong>, <strong>adis_read_fifo_overflow</strong> - to write/read the FIFO overflow behavior bit (0 - stop enqueuing samples, 1 - overwrite the oldest sample)</p></li>
<li><p><strong>adis_write_fifo_wm_int_en</strong>, <strong>adis_read_fifo_wm_int_en</strong> - to write/read the FIFO watermark interrupt enable bit (0 - watermark interrupt disabled, 1 - watermark interrupt enabled)</p></li>
<li><p><strong>adis_write_fifo_wm_int_pol</strong>, <strong>adis_read_fifo_wm_int_pol</strong> - to write/read the FIFO watermark interrupt polarity (0 - active low, 1 - active high)</p></li>
<li><p><strong>adis_write_fifo_wm_lvl</strong>, <strong>adis_read_fifo_wm_lvl</strong> - to write/read the number of samples which must be enqueued into the FIFO to trigger the watermark interrupt</p></li>
<li><p><strong>adis_read_fifo_cnt</strong> - to read the current number of samples in the FIFO</p></li>
</ul>
</div></blockquote>
</section>
<section id="miscellaneous-configuration">
<h3>Miscellaneous configuration<a class="headerlink" href="#miscellaneous-configuration" title="Permalink to this headline">¶</a></h3>
<p><strong>Common</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_write_dr_polarity</strong>, <strong>adis_read_dr_polarity</strong> - data ready polarity encoded value write/read APIs</p></li>
<li><p><strong>adis_write_sync_polarity</strong>, <strong>adis_read_sync_polarity</strong> - sync polarity encoded value write/read APIs</p></li>
<li><p><strong>adis_write_sync_mode</strong>, <strong>adis_read_sync_mode</strong> - synchronization mode encoded value write/read APIs</p></li>
<li><p><strong>adis_write_sens_bw</strong>, <strong>adis_read_sens_bw</strong> - sensor bandwidth encoded value write/read APIs</p></li>
<li><p><strong>adis_write_pt_of_perc_algnmt</strong>, <strong>adis_read_pt_of_perc_algnmt</strong> - write/read APIs for point of percussion alignment enable bit (1 -enabled, 0 - disabled)</p></li>
<li><p><strong>adis_write_linear_accl_comp</strong>, <strong>adis_read_linear_accl_comp</strong> - write/read APIs for linear acceleration compensation enable bit (1 -enabled, 0 - disabled)</p></li>
<li><p><strong>adis_write_burst_sel</strong>, <strong>adis_read_burst_sel</strong> - write/read APIs for burst selection encoded value (0 - acceleration and angular velocity, 1 - delta velocity and delta angle)</p></li>
<li><p><strong>adis_write_burst32</strong>, <strong>adis_read_burst32</strong> - write/read APIs for burst32 enable bit (0 - for 16-bit burst data, 1 - for 32-bit burst data)</p></li>
</ul>
</div></blockquote>
<p><strong>ADIS1650X</strong></p>
<blockquote>
<div><p>There are no other specific APIs for miscellaneous configuration for this chip version.</p>
</div></blockquote>
<p><strong>ADIS1657X</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_write_timestamp32</strong>, <strong>adis_read_timestamp32</strong> - write/read APIs for timestamp32 enable bit (0 - for 16-bit timestamp, 1 - for 32-bit timestamp)</p></li>
<li><p><strong>adis_write_sync_4khz</strong>, <strong>adis_read_sync_4khz</strong> - write/read APIs for 4KHz internal sync enable bit (0 - for 2KHz internal sync, 1 - for 4KHz internal sync)</p></li>
</ul>
</div></blockquote>
</section>
<section id="adis-commands">
<h3>ADIS Commands<a class="headerlink" href="#adis-commands" title="Permalink to this headline">¶</a></h3>
<p><strong>Common</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_cmd_fact_calib_restore</strong> - to perform factory calibration restore command</p></li>
<li><p><strong>adis_cmd_snsr_self_test</strong> - to perform sensor self test command</p></li>
<li><p><strong>adis_cmd_fls_mem_update</strong> - to perform flash memory update command</p></li>
<li><p><strong>adis_cmd_fls_mem_test</strong> - to perform flash memory test command</p></li>
<li><p><strong>adis_cmd_sw_res</strong> - to perform software reset command</p></li>
</ul>
</div></blockquote>
<p><strong>ADIS1650X</strong></p>
<blockquote>
<div><p>There are no other specific APIs for ADIS commands for this chip version.</p>
</div></blockquote>
<p><strong>ADIS1657X</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_cmd_bias_corr_update</strong> - to perform bias correction update command</p></li>
<li><p><strong>adis_cmd_fifo_flush</strong> - to perform fifo flush command</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="adis-read-only-registers">
<h2><a class="toc-backref" href="#id17">ADIS read-only registers</a><a class="headerlink" href="#adis-read-only-registers" title="Permalink to this headline">¶</a></h2>
<p><strong>Common</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_read_time_stamp</strong> - reads the current sample time stamp</p></li>
<li><p><strong>adis_read_data_cntr</strong> - reads the current sample data counter</p></li>
</ul>
</div></blockquote>
<p><strong>ADIS1650X</strong></p>
<blockquote>
<div><p>There are no other APIs for this chip version.</p>
</div></blockquote>
<p><strong>ADIS1657X</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>adis_read_spi_chksum</strong> - reads current sample SPI transaction checksum</p></li>
</ul>
</div></blockquote>
</section>
<section id="adis-scratch-pad-registers">
<h2><a class="toc-backref" href="#id18">ADIS scratch pad registers</a><a class="headerlink" href="#adis-scratch-pad-registers" title="Permalink to this headline">¶</a></h2>
<p>In order to perform read/write operations for device scratch pad registers use
the following APIs:</p>
<ul class="simple">
<li><p><strong>adis_write_usr_scr_1</strong>, <strong>adis_read_usr_scr_1</strong> - write/read APIs for scratch pad register 1</p></li>
<li><p><strong>adis_write_usr_scr_2</strong>, <strong>adis_read_usr_scr_2</strong> - write/read APIs for scratch pad register 2</p></li>
<li><p><strong>adis_write_usr_scr_3</strong>, <strong>adis_read_usr_scr_3</strong> - write/read APIs for scratch pad register 3</p></li>
</ul>
</section>
<section id="adis-driver-initialization-example">
<h2><a class="toc-backref" href="#id19">ADIS Driver Initialization Example</a><a class="headerlink" href="#adis-driver-initialization-example" title="Permalink to this headline">¶</a></h2>
<section id="id1">
<h3>ADIS1650X<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">no_os_spi_init_param</span><span class="w"> </span><span class="n">adis1650x_spi_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">device_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_DEVICE_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">max_speed_hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_BAUDRATE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">bit_order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_BIT_ORDER_MSB_FIRST</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_MODE_3</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">chip_select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_CS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_gpio_init_param</span><span class="w"> </span><span class="n">adis1650x_gpio_reset_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PORT_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PIN_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_PULL_NONE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_EXTRA</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_init_param</span><span class="w"> </span><span class="n">adis1650x_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">gpio_reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_gpio_reset_ip</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">sync_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS_SYNC_OUTPUT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">dev_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS16505_2</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_dev</span><span class="w"> </span><span class="o">*</span><span class="n">adis1650x_desc</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span><span class="w"></span>

<span class="n">adis1650x_chip_info</span><span class="p">.</span><span class="n">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_ip</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_chip_info</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_x_gyro</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_y_gyro</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_z_gyro</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_x_accl</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_y_accl</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_z_accl</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_temp_out</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>

<span class="nl">error_remove</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">adis_remove</span><span class="p">(</span><span class="n">adis1650x_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">error</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;Error!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>ADIS1657X<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">no_os_spi_init_param</span><span class="w"> </span><span class="n">adis1657x_spi_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">device_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_DEVICE_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">max_speed_hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_BAUDRATE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">bit_order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_BIT_ORDER_MSB_FIRST</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_MODE_3</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">chip_select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_CS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_gpio_init_param</span><span class="w"> </span><span class="n">adis1657x_gpio_reset_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PORT_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PIN_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_PULL_NONE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_EXTRA</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_init_param</span><span class="w"> </span><span class="n">adis1657x_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">gpio_reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_gpio_reset_ip</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">sync_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS_SYNC_OUTPUT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">dev_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS16577_3</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_dev</span><span class="w"> </span><span class="o">*</span><span class="n">adis1657x_desc</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span><span class="w"></span>

<span class="n">adis1657x_chip_info</span><span class="p">.</span><span class="n">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_ip</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_chip_info</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_x_gyro</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_y_gyro</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_z_gyro</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_x_accl</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_y_accl</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_z_accl</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis_read_temp_out</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">error_remove</span><span class="p">;</span><span class="w"></span>

<span class="nl">error_remove</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">adis_remove</span><span class="p">(</span><span class="n">adis1657x_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">error</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;Error!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="adis-iio-driver-source-code">
<h2><a class="toc-backref" href="#id20">ADIS IIO Driver Source Code</a><a class="headerlink" href="#adis-iio-driver-source-code" title="Permalink to this headline">¶</a></h2>
<p>The IIO ADIS driver comes on top of ADIS driver and offers support for interfacing
IIO clients through IIO lib.</p>
<p>The source code for ADIS generic driver can be found here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis.h">Header file of ADIS Generic IIO Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis.c">Implementation of ADIS Generic IIO Driver</a></p></li>
</ul>
<p>The generic ADIS driver has to be used together with the chip-specific ADIS driver.
The source code for the supported chips is listed below:</p>
<p>ADIS1650X IIO Driver Source Code:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis1650x.h">Header file of ADIS1650X IIO Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis1650x.c">Implementation of ADIS1650X IIO Driver</a></p></li>
</ul>
<p>ADIS1657X IIO Driver Source Code:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis1657x.h">Header file of ADIS1657X IIO Driver</a></p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/no-OS/blob/master/drivers/imu/iio_adis1657x.c">Implementation of ADIS1657X IIO Driver</a></p></li>
</ul>
</section>
<section id="iio-adis-device-configuration">
<h2><a class="toc-backref" href="#id21">IIO ADIS Device Configuration</a><a class="headerlink" href="#iio-adis-device-configuration" title="Permalink to this headline">¶</a></h2>
<section id="device-attributes">
<h3>Device Attributes<a class="headerlink" href="#device-attributes" title="Permalink to this headline">¶</a></h3>
<p>The generic IIO ADIS device has the following device specific attributes:</p>
<ul class="simple">
<li><p><strong>filter_low_pass_3db_frequency</strong> - which allows the configuration of the ADIS Bartlett window FIR filter</p></li>
<li><p><strong>sampling_frequency</strong> - which allows the configuration of the ADIS sampling frequency</p></li>
</ul>
</section>
<section id="device-channels">
<h3>Device Channels<a class="headerlink" href="#device-channels" title="Permalink to this headline">¶</a></h3>
<p>The generic IIO ADIS device has 0 output channels and 14 input channels:
3 angular velocity channels, 3 acceleration channels, 3 rotation channels,
3 velocity channels, 1 temperature channel and 1 counter channel.</p>
<p><strong>Angular Velocity Channels</strong></p>
<blockquote>
<div><p>The angular velocity channels are:</p>
<ul class="simple">
<li><p>Channel 0: <strong>anglvel_x</strong></p></li>
<li><p>Channel 1: <strong>anglvel_y</strong></p></li>
<li><p>Channel 2: <strong>anglvel_z</strong></p></li>
</ul>
<p>Each angular velocity channel has 3 attributes:</p>
<ul class="simple">
<li><p><strong>calibbias</strong> - calibration offset correction</p></li>
<li><p><strong>raw</strong> - the raw angular velocity value read from the device</p></li>
<li><p><strong>scale</strong> - the scale that has to be applied to the raw value in order to obtain the converted real value in rot/s, it has a constant value which is chip-specific</p></li>
</ul>
</div></blockquote>
<p><strong>Acceleration Channels</strong></p>
<blockquote>
<div><p>The acceleration channels are:</p>
<ul class="simple">
<li><p>Channel 3: <strong>accel_x</strong></p></li>
<li><p>Channel 4: <strong>accel_y</strong></p></li>
<li><p>Channel 5: <strong>accel_z</strong></p></li>
</ul>
<p>Each acceleration channel has 3 attributes:</p>
<ul class="simple">
<li><p><strong>calibbias</strong> - calibration offset correction</p></li>
<li><p><strong>raw</strong> - the raw acceleration value read from the device</p></li>
<li><p><strong>scale</strong> - the scale that has to be applied to the raw value in order to obtain the converted real value in m/s^2, it has a constant value which is chip-specific</p></li>
</ul>
</div></blockquote>
<p><strong>Temperature Channel</strong></p>
<blockquote>
<div><p>The temperature channel is:</p>
<ul class="simple">
<li><p>Channel 6: <strong>temp0</strong></p></li>
</ul>
<p>The temperature channel has 2 attributes:</p>
<ul class="simple">
<li><p><strong>raw</strong> - the raw temperature value read from the device</p></li>
<li><p><strong>scale</strong> - the scale that has to be applied to the raw value in order to obtain the converted real value in millidegrees Celsius, it has a constant value which is chip-specific</p></li>
</ul>
</div></blockquote>
<p><strong>Delta Angle Channels</strong></p>
<blockquote>
<div><p>The delta angle channels are:</p>
<ul class="simple">
<li><p>Channel 7: <strong>deltaangl_x</strong></p></li>
<li><p>Channel 8: <strong>deltaangl_y</strong></p></li>
<li><p>Channel 9: <strong>deltaangl_z</strong></p></li>
</ul>
<p>Each rotation channel has 2 attributes:</p>
<ul class="simple">
<li><p><strong>raw</strong> - the raw delta angle value read from the device</p></li>
<li><p><strong>scale</strong> - the scale that has to be applied to the raw value in order to obtain the converted real value in radians, it has a constant value which is chip-specific</p></li>
</ul>
</div></blockquote>
<p><strong>Delta Velocity Channels</strong></p>
<blockquote>
<div><p>The delta velocity channels are:</p>
<ul class="simple">
<li><p>Channel 10: <strong>deltavelocity_x</strong></p></li>
<li><p>Channel 11: <strong>deltavelocity_y</strong></p></li>
<li><p>Channel 12: <strong>deltavelocity_z</strong></p></li>
</ul>
<p>Each delta velocity channel has 2 attributes:</p>
<ul class="simple">
<li><p><strong>raw</strong> - the raw delta velocity value read from the device</p></li>
<li><p><strong>scale</strong> - the scale that has to be applied to the raw value in order to obtain the converted real value in m/s, it has a constant value which is chip-specific</p></li>
</ul>
</div></blockquote>
<p><strong>Count Channel</strong></p>
<blockquote>
<div><p>The count channel is:</p>
<ul class="simple">
<li><p>Channel 13: <strong>count</strong></p></li>
</ul>
<p>The count channel does not have any attributes. It is used only in buffer mode to add the data counter value for each sample set obtained in burst mode.</p>
</div></blockquote>
</section>
<section id="device-debug-attributes">
<h3>Device Debug Attributes<a class="headerlink" href="#device-debug-attributes" title="Permalink to this headline">¶</a></h3>
<p>The IIO driver offers the possibility to configure the device and to retrieve
diagnosis and configuration data from the device using debug attributes.
The following list of debug attributes is available:</p>
<p><strong>Common</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 5%" />
<col style="width: 25%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Debug Attribute Name</p></td>
<td><p>Access Type</p></td>
<td><p>Debug Attribute Description</p></td>
<td><p>Debug Attribute Valid Values</p></td>
</tr>
<tr class="row-even"><td><p>diag_data_path_overrun</p></td>
<td><p>Read-only</p></td>
<td><p>Data Path Overrun Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_flash_memory_update_error</p></td>
<td><p>Read-only</p></td>
<td><p>Flash Memory Update Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_spi_communication_error</p></td>
<td><p>Read-only</p></td>
<td><p>SPI Communication Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_standby_mode</p></td>
<td><p>Read-only</p></td>
<td><p>Standby Mode Flag</p></td>
<td><p>0 - device is in processing mode, 1 - device is in standby mode (not enough voltage supplied)</p></td>
</tr>
<tr class="row-even"><td><p>diag_sensor_self_test_error</p></td>
<td><p>Read-only</p></td>
<td><p>Sensor Self Test Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_flash_memory_test_error</p></td>
<td><p>Read-only</p></td>
<td><p>Flash Memory Test Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_clock_error</p></td>
<td><p>Read-only</p></td>
<td><p>Clock Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_checksum_error_flag</p></td>
<td><p>Read-only</p></td>
<td><p>SPI Checksum Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_flash_memory_write_count_exceeded_error</p></td>
<td><p>Read-only</p></td>
<td><p>Flash Memory Write Counts Exceeded Flag Error</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>lost_samples_count</p></td>
<td><p>Read-only</p></td>
<td><p>The number of lost samples during the previous buffer read command</p></td>
<td><p>0 - 4294967295</p></td>
</tr>
<tr class="row-even"><td><p>time_stamp</p></td>
<td><p>Read-only</p></td>
<td><p>The TIME_STAMP register value</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-odd"><td><p>data_counter</p></td>
<td><p>Read-only</p></td>
<td><p>The DATA_CNTR register value</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-even"><td><p>filter_size</p></td>
<td><p>Read/Write</p></td>
<td><p>The FILT_CTRL register value</p></td>
<td><p>0 - 6</p></td>
</tr>
<tr class="row-odd"><td><p>gyroscope_measurement_range</p></td>
<td><p>Read-only</p></td>
<td><p>The measurement range identifier</p></td>
<td><p>chip specific value with format “+/-###_degrees_per_sec”</p></td>
</tr>
<tr class="row-even"><td><p>data_ready_polarity Read/Write</p></td>
<td><p>Read/Write</p></td>
<td><p>Data Ready Pin Polarity Encoded Value</p></td>
<td><p>0 - active low, 1 - active high</p></td>
</tr>
<tr class="row-odd"><td><p>sync_polarity</p></td>
<td><p>Read/Write</p></td>
<td><p>Sync Pin Polarity Encoded Value</p></td>
<td><p>0 - active low, 1 - active high</p></td>
</tr>
<tr class="row-even"><td><p>sync_mode_select</p></td>
<td><p>Read/Write</p></td>
<td><p>Sync Mode Select Encoded Value</p></td>
<td><p>0 - internal sync, 1 - direct input sync, 2 - scaled sync, 3 - output sync</p></td>
</tr>
<tr class="row-odd"><td><p>internal_sensor_bandwidth</p></td>
<td><p>Read/Write</p></td>
<td><p>Internal Sensor Bandwidth Encoded Value</p></td>
<td><p>0 - wide bandwidth, 1 - 370 Hz</p></td>
</tr>
<tr class="row-even"><td><p>point_of_percussion_alignment</p></td>
<td><p>Read/Write</p></td>
<td><p>Point Of Percussion Alignment Enable Bit</p></td>
<td><p>0 - disabled, 1 - enabled</p></td>
</tr>
<tr class="row-odd"><td><p>linear_acceleration_compensation</p></td>
<td><p>Read/Write</p></td>
<td><p>Linear Acceleration Compensation Enable Bit</p></td>
<td><p>0 - disabled, 1 - enabled</p></td>
</tr>
<tr class="row-even"><td><p>burst_data_selection</p></td>
<td><p>Read/Write</p></td>
<td><p>Burst Data Selection Encoded Bit</p></td>
<td><p>0 - burst data contains acceleration and angular velocity measurements, 1 - burst data contains delta-angle and delta-velocity measurements</p></td>
</tr>
<tr class="row-odd"><td><p>burst_size_selection</p></td>
<td><p>Read/Write</p></td>
<td><p>Burst Size Selection Encoded Bit</p></td>
<td><p>0 - burst data contains 16-bit values, 1 - burst data contains 32-bit values</p></td>
</tr>
<tr class="row-even"><td><p>sync_signal_scale</p></td>
<td><p>Read/Write</p></td>
<td><p>Sync Input Frequency Multiplier Register Value</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-odd"><td><p>factory_calibration_restore</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a factory calibration restore command</p></td>
<td><p>Any written value will trigger a factory calibration restore command on the device</p></td>
</tr>
<tr class="row-even"><td><p>sensor_self_test</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a self test command</p></td>
<td><p>Any written value will trigger a self test command on the device</p></td>
</tr>
<tr class="row-odd"><td><p>flash_memory_update</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a flash memory update command</p></td>
<td><p>Any written value will trigger a flash memory update command on the device</p></td>
</tr>
<tr class="row-even"><td><p>flash_memory_test</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a flash memory test command</p></td>
<td><p>Any written value will trigger a flash memory test command on the device</p></td>
</tr>
<tr class="row-odd"><td><p>software_reset</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a software reset command</p></td>
<td><p>Any written value will trigger a software reset command on the device</p></td>
</tr>
<tr class="row-even"><td><p>firmware_revision</p></td>
<td><p>Read-only</p></td>
<td><p>The firmware revision value</p></td>
<td><p>String containing the firmware revision in the following format ##.##</p></td>
</tr>
<tr class="row-odd"><td><p>firmware_date</p></td>
<td><p>Read-only</p></td>
<td><p>The firmware date</p></td>
<td><p>String containing the firmware date in the following format dd-mm-yyyy</p></td>
</tr>
<tr class="row-even"><td><p>product_id</p></td>
<td><p>Read-only</p></td>
<td><p>The product id</p></td>
<td><p>Chip specific product id, e.g. 16505, 16575, 16576, 16577, etc.)</p></td>
</tr>
<tr class="row-odd"><td><p>serial_number</p></td>
<td><p>Read-only</p></td>
<td><p>The serial number</p></td>
<td><p>The serial number of the chip - unsigned integer format</p></td>
</tr>
<tr class="row-even"><td><p>scratch_pad_register1</p></td>
<td><p>Read/Write</p></td>
<td><p>The scratch path register 1</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-odd"><td><p>scratch_pad_register2</p></td>
<td><p>Read/Write</p></td>
<td><p>The scratch path register 2</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-even"><td><p>scratch_pad_register3</p></td>
<td><p>Read/Write</p></td>
<td><p>The scratch path register 3</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-odd"><td><p>flash_counter</p></td>
<td><p>Read-only</p></td>
<td><p>The number of the flash writes performed on the device</p></td>
<td><p>0 - 65535</p></td>
</tr>
</tbody>
</table>
<p><strong>ADIS1650X</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 10%" />
<col style="width: 27%" />
<col style="width: 36%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Debug Attribute Name</p></td>
<td><p>Access Type</p></td>
<td><p>Debug Attribute Description</p></td>
<td><p>Debug Attribute Valid Values</p></td>
</tr>
<tr class="row-even"><td><p>diag_gyroscope1_self_test_error</p></td>
<td><p>Read-only</p></td>
<td><p>Gyroscope 1 Self Test Error Fla</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_gyroscope1_self_test_error</p></td>
<td><p>Read-only</p></td>
<td><p>Gyroscope 1 Self Test Error Fla</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_acceleration_self_test_error</p></td>
<td><p>Read-only</p></td>
<td><p>Accelerometer Self Test Error Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>decimation_filter</p></td>
<td><p>Read/Write</p></td>
<td><p>Decimation Filter Register Value</p></td>
<td><p>0 - 1999</p></td>
</tr>
</tbody>
</table>
<p><strong>ADIS1657X</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 7%" />
<col style="width: 29%" />
<col style="width: 41%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Debug Attribute Name</p></td>
<td><p>Access Type</p></td>
<td><p>Debug Attribute Description</p></td>
<td><p>Debug Attribute Valid Values</p></td>
</tr>
<tr class="row-even"><td><p>diag_sensor_initialization_failure</p></td>
<td><p>Read-only</p></td>
<td><p>Sensor Initialization Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_x_axis_gyroscope_failure</p></td>
<td><p>Read-only</p></td>
<td><p>X Axis Gyroscope Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_y_axis_gyroscope_failure</p></td>
<td><p>Read-only</p></td>
<td><p>Y Axis Gyroscope Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_z_axis_gyroscope_failure</p></td>
<td><p>Read-only</p></td>
<td><p>Z Axis Gyroscope Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_x_axis_accelerometer_failure</p></td>
<td><p>Read-only</p></td>
<td><p>X Axis Accelerometer Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_y_axis_accelerometer_failure</p></td>
<td><p>Read-only</p></td>
<td><p>Y Axis Accelerometer Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>diag_z_axis_accelerometer_failure</p></td>
<td><p>Read-only</p></td>
<td><p>Z Axis Accelerometer Failure Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-odd"><td><p>diag_aduc_mcu_fault</p></td>
<td><p>Read-only</p></td>
<td><p>Internal Mcu Fault Flag</p></td>
<td><p>0 - error did not occur or 1 - error occurred</p></td>
</tr>
<tr class="row-even"><td><p>fifo_sample_count</p></td>
<td><p>Read-only</p></td>
<td><p>The FIFO_CNT register value</p></td>
<td><p>0 - 511</p></td>
</tr>
<tr class="row-odd"><td><p>spi_checksum</p></td>
<td><p>Read-only</p></td>
<td><p>The SPI_CHKSUM register value</p></td>
<td><p>0 - 65535</p></td>
</tr>
<tr class="row-even"><td><p>fifo_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>IFO Enable Bit Value</p></td>
<td><p>0 - FIFO disabled, 1 - FIFO enabled</p></td>
</tr>
<tr class="row-odd"><td><p>fifo_overflow_behavior</p></td>
<td><p>Read/Write</p></td>
<td><p>FIFO Overflow Behavior Encoded Value</p></td>
<td><p>0 - stop enqueuing samples, 1 - overwrite the oldest sample</p></td>
</tr>
<tr class="row-even"><td><p>fifo_watermark_interrupt_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>FIFO Watermark Interrupt Enable Bit Value</p></td>
<td><p>0 - watermark interrupt disabled, 1 - watermark interrupt enabled</p></td>
</tr>
<tr class="row-odd"><td><p>fifo_watermark_interrupt_polarity</p></td>
<td><p>Read/Write</p></td>
<td><p>FIFO Watermark Interrupt Polarity Encoded Value</p></td>
<td><p>0 - active low, 1 - active high</p></td>
</tr>
<tr class="row-even"><td><p>fifo_watermark_threshold_level</p></td>
<td><p>Read/Write</p></td>
<td><p>FIFO Watermark Threshold Level</p></td>
<td><p>0 - 511</p></td>
</tr>
<tr class="row-odd"><td><p>time_stamp_size</p></td>
<td><p>Read/Write</p></td>
<td><p>Timestamp Size Encoded Bit</p></td>
<td><p>0 - timestamp is in 16-bit format, 1 - timestamp is in 32-bit format</p></td>
</tr>
<tr class="row-even"><td><p>internal_sync_enable_4khz</p></td>
<td><p>Read/Write</p></td>
<td><p>4KHz Internal Sync Enable bit</p></td>
<td><p>0 - 2KHz Internal Sync, 1 - 4KHz Internal Sync</p></td>
</tr>
<tr class="row-odd"><td><p>bias_correction_time_base_control</p></td>
<td><p>Read/Write</p></td>
<td><p>Bias Correction Time Base Control Value</p></td>
<td><p>0 - 12</p></td>
</tr>
<tr class="row-even"><td><p>x_axis_gyroscope_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>X Axis Gyroscope Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-odd"><td><p>y_axis_gyroscope_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>Y Axis Gyroscope Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-even"><td><p>z_axis_gyroscope_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>Z Axis Gyroscope Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-odd"><td><p>x_axis_accelerometer_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>X Axis Accelerometer Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-even"><td><p>y_axis_accelerometer_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>Y Axis Accelerometer Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-odd"><td><p>z_axis_accelerometer_bias_correction_enable</p></td>
<td><p>Read/Write</p></td>
<td><p>Z Axis Accelerometer Bias Correction Enable Bit Value</p></td>
<td><p>0 - correction disabled, 1 - correction enabled</p></td>
</tr>
<tr class="row-even"><td><p>bias_correction_update</p></td>
<td><p>Write-only</p></td>
<td><p>Trigger a bias correction update command</p></td>
<td><p>Any written value will trigger a bias correction update command on the device</p></td>
</tr>
<tr class="row-odd"><td><p>fifo_flush</p></td>
<td><p>Write-only</p></td>
<td><p>Triggers a FIFO flush command</p></td>
<td><p>Any written value will trigger a FIFO flush command on the device</p></td>
</tr>
<tr class="row-even"><td><p>decimation_filter</p></td>
<td><p>Read/Write</p></td>
<td><p>Decimation Filter Register Value</p></td>
<td><p>0 - 3999</p></td>
</tr>
</tbody>
</table>
</section>
<section id="device-buffers">
<h3>Device Buffers<a class="headerlink" href="#device-buffers" title="Permalink to this headline">¶</a></h3>
<p>The IIO AIDS device driver supports the usage of a data buffer for samples reading purposes.</p>
</section>
</section>
<section id="iio-adis-driver-initialization-example">
<h2><a class="toc-backref" href="#id22">IIO ADIS Driver Initialization Example</a><a class="headerlink" href="#iio-adis-driver-initialization-example" title="Permalink to this headline">¶</a></h2>
<section id="id3">
<h3>ADIS1650X<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">no_os_spi_init_param</span><span class="w"> </span><span class="n">adis1650x_spi_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">.</span><span class="n">device_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_DEVICE_ID</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">max_speed_hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_BAUDRATE</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">bit_order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_BIT_ORDER_MSB_FIRST</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_MODE_3</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_OPS</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">chip_select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_CS</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_gpio_init_param</span><span class="w"> </span><span class="n">adis1650x_gpio_reset_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PORT_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PIN_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_PULL_NONE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_EXTRA</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_init_param</span><span class="w"> </span><span class="n">adis1650x_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">gpio_reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_gpio_reset_ip</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">sync_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS_SYNC_OUTPUT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">dev_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS16505_2</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_irq_init_param</span><span class="w"> </span><span class="n">adis1650x_gpio_irq_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_ctrl_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig_cb_info</span><span class="w"> </span><span class="n">gpio_cb_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_EVT_GPIO</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">peripheral</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_GPIO_IRQ</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1650X_GPIO_CB_HANDLE</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig_init_param</span><span class="w"> </span><span class="n">adis1650x_gpio_trig_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1650X_GPIO_TRIG_IRQ_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_trig_lvl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_IRQ_EDGE_RISING</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">cb_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpio_cb_info</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1650X_GPIO_TRIG_NAME</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="cp">#define DATA_BUFFER_SIZE 400</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">iio_data_buffer</span><span class="p">[</span><span class="n">DATA_BUFFER_SIZE</span><span class="o">*</span><span class="mi">14</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)];</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">adis_iio_dev</span><span class="w"> </span><span class="o">*</span><span class="n">adis1650x_iio_desc</span><span class="p">;</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_data_buffer</span><span class="w"> </span><span class="n">data_buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">iio_data_buffer</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DATA_BUFFER_SIZE</span><span class="o">*</span><span class="mi">14</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig</span><span class="w"> </span><span class="o">*</span><span class="n">adis1650x_trig_desc</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_irq_ctrl_desc</span><span class="w"> </span><span class="o">*</span><span class="n">adis1650x_irq_desc</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_desc</span><span class="w"> </span><span class="o">*</span><span class="n">app</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_init_param</span><span class="w"> </span><span class="n">app_init_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_iio_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1650x_iio_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Initialize interrupt controller */</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">no_os_irq_ctrl_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1650x_irq_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_gpio_irq_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_init</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">no_os_irq_set_priority</span><span class="p">(</span><span class="n">adis1650x_irq_desc</span><span class="p">,</span><span class="w"> </span><span class="n">adis1650x_gpio_trig_ip</span><span class="p">.</span><span class="n">irq_id</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_set_prio</span><span class="p">;</span><span class="w"></span>

<span class="n">adis1650x_gpio_trig_ip</span><span class="p">.</span><span class="n">irq_ctrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_irq_desc</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Initialize hardware trigger */</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_hw_trig_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1650x_trig_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1650x_gpio_trig_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_set_prio</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* List of devices */</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_device</span><span class="w"> </span><span class="n">iio_devices</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adis16505-2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_iio_desc</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">dev_descriptor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_iio_desc</span><span class="o">-&gt;</span><span class="n">iio_dev</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">read_buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">data_buff</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="cm">/* List of triggers */</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_trigger_init</span><span class="w"> </span><span class="n">trigs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">IIO_APP_TRIGGER</span><span class="p">(</span><span class="n">ADIS1650X_GPIO_TRIG_NAME</span><span class="p">,</span><span class="w"> </span><span class="n">adis1650x_trig_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis_iio_trig_desc</span><span class="p">)</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="n">app_init_param</span><span class="p">.</span><span class="n">devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_devices</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">nb_devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_ARRAY_SIZE</span><span class="p">(</span><span class="n">iio_devices</span><span class="p">);</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">uart_init_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_uart_ip</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">trigs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">trigs</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">nb_trigs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_ARRAY_SIZE</span><span class="p">(</span><span class="n">trigs</span><span class="p">);</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">irq_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1650x_irq_desc</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_app_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app</span><span class="p">,</span><span class="w"> </span><span class="n">app_init_param</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_iio_app_init</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Update the reference to iio_desc */</span><span class="w"></span>
<span class="n">adis1650x_trig_desc</span><span class="o">-&gt;</span><span class="n">iio_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">iio_desc</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_app_run</span><span class="p">(</span><span class="n">app</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">iio_app_err</span><span class="p">;</span><span class="w"></span>

<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="nl">iio_app_err</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">iio_app_remove</span><span class="p">(</span><span class="n">app</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_iio_app_init</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">iio_hw_trig_remove</span><span class="p">(</span><span class="n">adis1650x_trig_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_irq_set_prio</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">no_os_irq_ctrl_remove</span><span class="p">(</span><span class="n">adis1650x_irq_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_irq_init</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">adis1650x_iio_remove</span><span class="p">(</span><span class="n">adis1650x_iio_desc</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;Error!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id4">
<h3>ADIS1657X<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">no_os_spi_init_param</span><span class="w"> </span><span class="n">adis1657x_spi_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">.</span><span class="n">device_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_DEVICE_ID</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">max_speed_hz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_BAUDRATE</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">bit_order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_BIT_ORDER_MSB_FIRST</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_SPI_MODE_3</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_OPS</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">chip_select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_CS</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPI_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_gpio_init_param</span><span class="w"> </span><span class="n">adis1657x_gpio_reset_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PORT_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_RESET_PIN_NUM</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_PULL_NONE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_EXTRA</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">adis_init_param</span><span class="w"> </span><span class="n">adis1657x_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">gpio_reset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_gpio_reset_ip</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">sync_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS_SYNC_OUTPUT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">dev_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS16577_3</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_irq_init_param</span><span class="w"> </span><span class="n">adis1657x_gpio_irq_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_ctrl_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">platform_ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_OPS</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">extra</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_IRQ_EXTRA</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">const</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig_cb_info</span><span class="w"> </span><span class="n">gpio_cb_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_EVT_GPIO</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">peripheral</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_GPIO_IRQ</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1657X_GPIO_CB_HANDLE</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig_init_param</span><span class="w"> </span><span class="n">adis1657x_gpio_trig_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1657X_GPIO_TRIG_IRQ_ID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">irq_trig_lvl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_IRQ_EDGE_RISING</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">cb_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpio_cb_info</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ADIS1657X_GPIO_TRIG_NAME</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="cp">#define DATA_BUFFER_SIZE 400</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">iio_data_buffer</span><span class="p">[</span><span class="n">DATA_BUFFER_SIZE</span><span class="o">*</span><span class="mi">14</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)];</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">adis_iio_dev</span><span class="w"> </span><span class="o">*</span><span class="n">adis1657x_iio_desc</span><span class="p">;</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_data_buffer</span><span class="w"> </span><span class="n">data_buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">iio_data_buffer</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DATA_BUFFER_SIZE</span><span class="o">*</span><span class="mi">14</span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">iio_hw_trig</span><span class="w"> </span><span class="o">*</span><span class="n">adis1657x_trig_desc</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">no_os_irq_ctrl_desc</span><span class="w"> </span><span class="o">*</span><span class="n">adis1657x_irq_desc</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_desc</span><span class="w"> </span><span class="o">*</span><span class="n">app</span><span class="p">;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_init_param</span><span class="w"> </span><span class="n">app_init_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_iio_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1657x_iio_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Initialize interrupt controller */</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">no_os_irq_ctrl_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1657x_irq_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_gpio_irq_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_init</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">no_os_irq_set_priority</span><span class="p">(</span><span class="n">adis1657x_irq_desc</span><span class="p">,</span><span class="w"> </span><span class="n">adis1657x_gpio_trig_ip</span><span class="p">.</span><span class="n">irq_id</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_set_prio</span><span class="p">;</span><span class="w"></span>

<span class="n">adis1657x_gpio_trig_ip</span><span class="p">.</span><span class="n">irq_ctrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_irq_desc</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Initialize hardware trigger */</span><span class="w"></span>
<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_hw_trig_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adis1657x_trig_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis1657x_gpio_trig_ip</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_irq_set_prio</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* List of devices */</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_app_device</span><span class="w"> </span><span class="n">iio_devices</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;adis16577-3&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_iio_desc</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">dev_descriptor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_iio_desc</span><span class="o">-&gt;</span><span class="n">iio_dev</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">read_buff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">data_buff</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="cm">/* List of triggers */</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">iio_trigger_init</span><span class="w"> </span><span class="n">trigs</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">IIO_APP_TRIGGER</span><span class="p">(</span><span class="n">ADIS1657X_GPIO_TRIG_NAME</span><span class="p">,</span><span class="w"> </span><span class="n">adis1657x_trig_desc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adis_iio_trig_desc</span><span class="p">)</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="n">app_init_param</span><span class="p">.</span><span class="n">devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_devices</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">nb_devices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_ARRAY_SIZE</span><span class="p">(</span><span class="n">iio_devices</span><span class="p">);</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">uart_init_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_uart_ip</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">trigs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">trigs</span><span class="p">;</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">nb_trigs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NO_OS_ARRAY_SIZE</span><span class="p">(</span><span class="n">trigs</span><span class="p">);</span><span class="w"></span>
<span class="n">app_init_param</span><span class="p">.</span><span class="n">irq_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adis1657x_irq_desc</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_app_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">app</span><span class="p">,</span><span class="w"> </span><span class="n">app_init_param</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">err_iio_app_init</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* Update the reference to iio_desc */</span><span class="w"></span>
<span class="n">adis1657x_trig_desc</span><span class="o">-&gt;</span><span class="n">iio_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app</span><span class="o">-&gt;</span><span class="n">iio_desc</span><span class="p">;</span><span class="w"></span>

<span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iio_app_run</span><span class="p">(</span><span class="n">app</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ret</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">goto</span><span class="w"> </span><span class="n">iio_app_err</span><span class="p">;</span><span class="w"></span>

<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="nl">iio_app_err</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">iio_app_remove</span><span class="p">(</span><span class="n">app</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_iio_app_init</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">iio_hw_trig_remove</span><span class="p">(</span><span class="n">adis1657x_trig_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_irq_set_prio</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">no_os_irq_ctrl_remove</span><span class="p">(</span><span class="n">adis1657x_irq_desc</span><span class="p">);</span><span class="w"></span>
<span class="nl">err_irq_init</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="n">adis1657x_iio_remove</span><span class="p">(</span><span class="n">adis1657x_iio_desc</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;Error!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/adi_logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">no-OS</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../drivers_guide.html">no-OS drivers guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../drivers_doc.html">no-OS drivers list</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../drivers_doc.html#accelerometers">ACCELEROMETERS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../drivers_doc.html#analog-to-digital-converters">ANALOG TO DIGITAL CONVERTERS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../drivers_doc.html#inertial-measurement-units">INERTIAL MEASUREMENT UNITS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to no-OS</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../drivers_doc.html">no-OS drivers list</a><ul>
      <li>Previous: <a href="adm1177.html" title="previous chapter">ADM1177 no-OS Driver</a></li>
      <li>Next: <a href="../contributing.html" title="next chapter">Contributing to no-OS</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Analog Devices, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/drivers/adis.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>